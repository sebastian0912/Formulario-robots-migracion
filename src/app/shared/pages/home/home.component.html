<div class="app-layout">
    <app-navbar-lateral></app-navbar-lateral>
    <div class="contenedor">
        <app-navbar-superior></app-navbar-superior>


        <div class="tabla">
            <h1 class="title">Solicitudes sin consultar</h1>
            <mat-form-field class="filtro">
                <mat-label>Filtro</mat-label>
                <input matInput (keyup)="applyFilter($event)" placeholder="Filtrar" #input>
            </mat-form-field>
            <div class="table-container">
                <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">

                    <!-- Paquete -->
                    <ng-container matColumnDef="paquete">
                        <th mat-header-cell *matHeaderCellDef> Paquete </th>
                        <td mat-cell *matCellDef="let element"> {{element.paquete}} </td>
                    </ng-container>

                    <!--Oficina-->
                    <ng-container matColumnDef="oficina">
                        <th mat-header-cell *matHeaderCellDef> Oficina </th>
                        <td mat-cell *matCellDef="let element"> {{element.oficina}} </td>
                    </ng-container>

                    <!-- Cédula -->
                    <ng-container matColumnDef="cedula">
                        <th mat-header-cell *matHeaderCellDef> Cédula </th>
                        <td mat-cell *matCellDef="let element"> {{element.cedula}} </td>
                    </ng-container>

                    <!-- Tipo de Documento -->
                    <ng-container matColumnDef="tipo_documento">
                        <th mat-header-cell *matHeaderCellDef> Tipo de Documento </th>
                        <td mat-cell *matCellDef="let element"> {{element.tipo_documento}} </td>
                    </ng-container>

                    <!-- Estado Adress -->
                    <ng-container matColumnDef="estado_adress">
                        <th mat-header-cell *matHeaderCellDef> Estado Adress </th>
                        <td mat-cell *matCellDef="let element"> {{element.estado_adress}} </td>
                    </ng-container>

                    <!-- Estado Contraloría -->
                    <ng-container matColumnDef="estado_contraloria">
                        <th mat-header-cell *matHeaderCellDef> Estado Contraloría </th>
                        <td mat-cell *matCellDef="let element"> {{element.estado_contraloria}} </td>
                    </ng-container>

                    <!-- Estado Fondo Pensión -->
                    <ng-container matColumnDef="estado_fondo_pension">
                        <th mat-header-cell *matHeaderCellDef> Estado Fondo Pensión </th>
                        <td mat-cell *matCellDef="let element"> {{element.estado_fondo_pension}} </td>
                    </ng-container>

                    <!-- Estado OFAC -->
                    <ng-container matColumnDef="estado_ofac">
                        <th mat-header-cell *matHeaderCellDef> Estado OFAC </th>
                        <td mat-cell *matCellDef="let element"> {{element.estado_ofac}} </td>
                    </ng-container>

                    <!-- Estado Policivo -->
                    <ng-container matColumnDef="estado_policivo">
                        <th mat-header-cell *matHeaderCellDef> Estado Policivo </th>
                        <td mat-cell *matCellDef="let element"> {{element.estado_policivo}} </td>
                    </ng-container>

                    <!-- Estado Procuraduría -->
                    <ng-container matColumnDef="estado_procuraduria">
                        <th mat-header-cell *matHeaderCellDef> Estado Procuraduría </th>
                        <td mat-cell *matCellDef="let element"> {{element.estado_procuraduria}} </td>
                    </ng-container>

                    <!-- Estado Sisben -->
                    <ng-container matColumnDef="estado_sisben">
                        <th mat-header-cell *matHeaderCellDef> Estado Sisben </th>
                        <td mat-cell *matCellDef="let element"> {{element.estado_sisben}} </td>
                    </ng-container>

                    <!-- Estado Unión -->
                    <ng-container matColumnDef="estado_union">
                        <th mat-header-cell *matHeaderCellDef> Estado Unión </th>
                        <td mat-cell *matCellDef="let element"> {{element.estado_union}} </td>
                    </ng-container>

                    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                    <tr class="mat-row" *matNoDataRow>
                        <td class="mat-cell" colspan="11">No hay datos "{{input.value}}"</td>
                    </tr>
                </table>
            </div>
        </div>


        <div class="tabla">
            <h1 class="title">Solicitudes</h1>
            <div class="filter-row">
                <!-- Filtros generales -->
                <mat-form-field class="filtro">
                    <mat-label>Número de Contrato</mat-label>
                    <input matInput (keyup)="applyFilter('contrato', $event)" placeholder="Filtrar por contrato">
                </mat-form-field>
                <mat-form-field class="filtro">
                    <mat-label>Oficina</mat-label>
                    <input matInput (keyup)="applyFilter('oficina', $event)" placeholder="Filtrar por oficina">
                </mat-form-field>
                <mat-form-field class="filtro">
                    <mat-label>Cédula</mat-label>
                    <input matInput (keyup)="applyFilter('cedula', $event)" placeholder="Filtrar por cédula">
                </mat-form-field>
        
                <!-- Selectores de Estado -->
                <mat-form-field class="filtro">
                    <mat-label>Seleccionar Estado</mat-label>
                    <mat-select [(ngModel)]="selectedStateField">
                        <mat-option value="">Seleccionar campo de estado</mat-option>
                        <mat-option value="estado_adress">Estado Adress</mat-option>
                        <mat-option value="estado_contraloria">Estado Contraloría</mat-option>
                        <mat-option value="estado_fondo_pension">Estado Fondo Pensión</mat-option>
                        <mat-option value="estado_ofac">Estado OFAC</mat-option>
                        <mat-option value="estado_policivo">Estado Policivo</mat-option>
                        <mat-option value="estado_procuraduria">Estado Procuraduría</mat-option>
                        <mat-option value="estado_sisben">Estado Sisben</mat-option>
                        <mat-option value="estado_union">Estado Unión</mat-option>
                    </mat-select>
                </mat-form-field>
                <mat-form-field class="filtro">
                    <mat-label>Valor del Estado</mat-label>
                    <mat-select [(ngModel)]="selectedStateValue" (selectionChange)="applyStateFilter()">
                        <mat-option value="">Todos</mat-option>
                        <mat-option *ngFor="let estado of estados" [value]="estado">{{ estado }}</mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
        
            <div class="table-container">
                <table mat-table [dataSource]="dataSource2" class="mat-elevation-z8">

                    <!-- Paquete -->
                    <ng-container matColumnDef="paquete">
                        <th mat-header-cell *matHeaderCellDef> Paquete </th>
                        <td mat-cell *matCellDef="let element"> {{element.paquete}} </td>
                    </ng-container>

                    <!--Oficina-->
                    <ng-container matColumnDef="oficina">
                        <th mat-header-cell *matHeaderCellDef> Oficina </th>
                        <td mat-cell *matCellDef="let element"> {{element.oficina}} </td>
                    </ng-container>

                    <!-- Cédula -->
                    <ng-container matColumnDef="cedula">
                        <th mat-header-cell *matHeaderCellDef> Cédula </th>
                        <td mat-cell *matCellDef="let element"> {{element.cedula}} </td>
                    </ng-container>

                    <!-- Tipo de Documento -->
                    <ng-container matColumnDef="tipo_documento">
                        <th mat-header-cell *matHeaderCellDef> Tipo de Documento </th>
                        <td mat-cell *matCellDef="let element"> {{element.tipo_documento}} </td>
                    </ng-container>

                    <!-- Estado Adress -->
                    <ng-container matColumnDef="estado_adress">
                        <th mat-header-cell *matHeaderCellDef> Estado Adress </th>
                        <td mat-cell *matCellDef="let element"> {{element.estado_adress}} </td>
                    </ng-container>

                    <!-- Estado Contraloría -->
                    <ng-container matColumnDef="estado_contraloria">
                        <th mat-header-cell *matHeaderCellDef> Estado Contraloría </th>
                        <td mat-cell *matCellDef="let element"> {{element.estado_contraloria}} </td>
                    </ng-container>

                    <!-- Estado Fondo Pensión -->
                    <ng-container matColumnDef="estado_fondo_pension">
                        <th mat-header-cell *matHeaderCellDef> Estado Fondo Pensión </th>
                        <td mat-cell *matCellDef="let element"> {{element.estado_fondo_pension}} </td>
                    </ng-container>

                    <!-- Estado OFAC -->
                    <ng-container matColumnDef="estado_ofac">
                        <th mat-header-cell *matHeaderCellDef> Estado OFAC </th>
                        <td mat-cell *matCellDef="let element"> {{element.estado_ofac}} </td>
                    </ng-container>

                    <!-- Estado Policivo -->
                    <ng-container matColumnDef="estado_policivo">
                        <th mat-header-cell *matHeaderCellDef> Estado Policivo </th>
                        <td mat-cell *matCellDef="let element"> {{element.estado_policivo}} </td>
                    </ng-container>

                    <!-- Estado Procuraduría -->
                    <ng-container matColumnDef="estado_procuraduria">
                        <th mat-header-cell *matHeaderCellDef> Estado Procuraduría </th>
                        <td mat-cell *matCellDef="let element"> {{element.estado_procuraduria}} </td>
                    </ng-container>

                    <!-- Estado Sisben -->
                    <ng-container matColumnDef="estado_sisben">
                        <th mat-header-cell *matHeaderCellDef> Estado Sisben </th>
                        <td mat-cell *matCellDef="let element"> {{element.estado_sisben}} </td>
                    </ng-container>

                    <!-- Estado Unión -->
                    <ng-container matColumnDef="estado_union">
                        <th mat-header-cell *matHeaderCellDef> Estado Unión </th>
                        <td mat-cell *matCellDef="let element"> {{element.estado_union}} </td>
                    </ng-container>

                    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                    <tr class="mat-row" *matNoDataRow>
                        <td class="mat-cell" colspan="11">No hay datos "{{input.value}}"</td>
                    </tr>
                </table>
            </div>
        </div>

    </div>
</div>